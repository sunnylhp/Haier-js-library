(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{a.form=b()}}(this,function(){function p(r){return r.charAt(0).toUpperCase()+r.slice(1)}var c={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,chinese:/^[\u0391-\uFFE5]+$/,zipcode:/^[1-9]\d{5}$/,mobile:/^1[3-9][0-9]{9}$/,phone:/^([\+][0-9]{1,3}([ \.\-])?)?([\(][0-9]{1,6}[\)])?([0-9 \.\-]{1,32})(([A-Za-z \:]{1,11})?[0-9]{1,4}?)$/,phoneCn:/^(0[1-9][0-9]{1,2}-?[2-9][0-9]{4,})|([4|8]00[0-9]{7})$/,numbers:/^[0-9]*$/,numbers_dot:/^[0-9\.]*$/,abc:/^[A-Za-z]+$/,numbers_abc_underline:/^\w+$/,url:/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/,username:/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,price:/^\d+(\.\d+)?$/,chinaIdLoose:/^(\d{18}|\d{15}|\d{17}[xX])$/,chinaZip:/^\d{6}$/,ipv4:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},e={noChinese:"* Chinese character is not allowed.",required:"* This fields is required.",email:"* Invalid Email address.",minLength:"* Minimum {{1}} characters required.",maxLength:"* Maximum {{1}} characters allowed."},j=["email","url"];var q=function(t,r){for(var s=0;s<t.length;s++){if(t[s]===r){return true}}return false};var n=function(t,u){var r={isPassed:true,type:""};if(!!!t.data("valid")){return r}var s=t.data("valid").split(" ");$.each(s,function(x,w){var A;if(w.indexOf("_")>-1){var y=w.split("_"),B="is"+p(y[0]),z=p(y[0]);y[0]=t;A=a[B].apply(undefined,y);if(A.isPassed){return true}else{r=A;return false}}if(a["is"+p(w)]!==undefined){A=a["is"+p(w)](t);if(A.isPassed==false){r=A;return false}}else{A=o(t,w);if(A.isPassed==false){r=A;return false}}});return r};var f=function(s){var r={isPassed:true,list:[]};$.each(s,function(u,t){var w=n($(t));if(!w.isPassed){r.isPassed=false;r.list.push({type:w.type,$el:$(t)})}});return r};var h=function(s){var r=true;if(s.is("[type=radio]")){if(s.closest("form").find("[name="+s.attr("name")+"]:checked").length){return{isPassed:r,type:"required"}}else{r=false}}if(r&&s.is("[type=checkbox]")&&!s.is(":checked")){r=false}if(r&&s.val()===null||!s.val().length||(s.prop("tagName")=="SELECT"&&s.val()==-1)){r=false}if(r&&s.data("default")&&s.val()===s.data("default")){r=false}return{isPassed:r,type:"required",msg:e.required}};var m=function(r){return{isPassed:/^[^\u4e00-\u9fa5]{0,}$/.test(r.val()),type:"noChinese",msg:e.noChinese}};var o=function(r,s){if(r.val().length==0){return{isPassed:true,type:""}}var t=s,s=c.hasOwnProperty(t)?c[t]:s;if(s.test(r.val())){return{isPassed:true,type:t,msg:e[t]}}return{isPassed:false,type:t,msg:e[t]}};var l=function(r){return{isPassed:r.val()===$("[name="+arguments[1]+"]").val(),type:"equal",msg:"* fields do not match"}};var d=function(r,s){return{isPassed:r.val().length===0||r.val().length>=parseInt(s),type:"minLength",msg:e.minLength.replace("{{1}}",s)}};var b=function(r,s){return{isPassed:r.val().length<=parseInt(s),type:"maxLength",msg:e.maxLength.replace("{{1}}",s)}
};var i=function(){};var k=function(){};var g=function(r){};var a={test:n,tests:f,isEqual:l,isRegex:o,isRequired:h,isMinLength:d,isMaxLength:b,isNoChinese:m,msg:e};return a}));if($.fn.tooltipster!==undefined){window.formValid=(function(){var d=(function(){var f=function(i,j){if(i.data("tooltipster-ns")!==undefined){i.tooltipster("destroy")}i.tooltipster(j).tooltipster("show")};var g=function(i,j){f(i,{position:"top-right",theme:"tooltipster-error",maxWidth:300,contentAsHTML:true,content:j||"This field is invalid.",hideOnClick:true,trigger:"custom",autoClose:true,timer:3000,interactive:true,debug:false,functionAfter:function(){}})};var h=function(i){if(i.data("tooltipster-ns")===undefined){return}i.tooltipster("hide")};return{show:f,hide:h,error:g}})();var e=function(f){var g=form.test(f);if(g.isPassed==false&&g.isDeferred!==true){d.error(f,g.msg)}return g};var c=function(i,k){var f={isPassed:true,list:[]};if(k===undefined){k={}}var g=typeof k.showOneMessage==="undefined"?this.showOneMessage:k.showOneMessage,j=typeof k.autoPositionUpdate==="undefined"?this.autoPositionUpdate:k.autoPositionUpdate;if(g){i=i.eq(0)}$.each(i,function(m,l){var n=e($(l));if(!n.isPassed){f.isPassed=false;f.list.push({type:n.type,$el:$(l),msg:n.msg})}});if(j&&f.list.length>0){var h=f.list[0].$el;d.hide(h);$("html, body").animate({scrollTop:h.offset().top-$(window).height()/2},function(){h.trigger("focus");d.error(h,f.list[0].msg)})}return f};var a=function(f){f.on("focus","[data-valid]",function(){d.hide($(this))}).on("blur","[data-valid]",function(){e($(this))})};var b=function(f,g){a(f);f.on("submit",function(i){var h=formValid.tests(f.find("[data-valid]"),g);if(h.isPassed===false){i.preventDefault()}})};return{test:e,tests:c,blurValid:a,tooltips:d,submitValid:b}})()};